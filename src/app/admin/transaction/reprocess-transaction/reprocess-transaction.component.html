<div class="container-fluid p-0 mt-2">
    <div class="row row-flex">
        <div class="col-xl-8 mb-4">
            <app-tran-in-reprocess (reprocessSelectionEvent)="getProcessSelection($event)"></app-tran-in-reprocess>
        </div>
        <div class="col-xl-4 mb-4">
            <app-reprocess-choice></app-reprocess-choice>

        </div>
    </div>
    <div class="row">
        <div class="col-xl-8">
            <mat-card class="mat-elevation-z g-card  mb-4 h-100">
                <mat-card-content>
    
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <div>
                            <h2 class="card-header-title mb-0 d-flex align-items-center">
                                <div class="mat-icon-wrap me-lg-3">
                                    <span class="material-symbols-outlined">
                                        list_alt
                                    </span>
                                </div>
                                <span>Order Selection List</span>
                            </h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xl-5">
                            <div class="d-flex gap-12 align-items-center ">
                                <mat-form-field class="action-dropdown" appearance="outline">
                                    <mat-label>Search</mat-label>
                                    <mat-select class="employees-action" [(ngModel)]="this.columnSearch.searchColumn.colDef"
                                        (selectionChange)="resetFields($event.value)">
                                        <mat-option *ngFor="let item of displayedColumns" [value]="item.colDef">
                                            {{item.colDef}}
                                        </mat-option>
                                    </mat-select>
                                    <span class="material-symbols-outlined icon-expand-more">
                                        expand_more
                                    </span>
                                </mat-form-field>
    
                                <span class="v-br">-</span>
                                <div class="d-flex g-mini-search-box w-100">
                                    <mat-form-field class="w-100 bg-white br-8" appearance="fill"
                                        [floatLabel]="getFloatFormabelValue()"
                                        [hideRequiredMarker]="hideRequiredFormControl.value">
                                        <span class="material-symbols-outlined icon-search">
                                            Search
                                        </span>
                                        <input type="text" placeholder="Search" aria-label="Search" matInput
                                            [(ngModel)]='this.columnSearch.searchValue' [matAutocomplete]="search"
                                            (ngModelChange)="this.searchByColumn.next($event)">
                                        <mat-autocomplete #search="matAutocomplete" (optionSelected)="searchData()">
                                            <mat-option *ngFor="let option of searchAutocompleteListByCol" [value]="option">
                                                {{option}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
    
    
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-7 d-flex flex-row-reverse">
                            <mat-form-field class="action-dropdown w-30" appearance="outline">
                                <mat-label>Action</mat-label>
                                <mat-select [(value)]="selectedVariable" class="employees-action"
                                    (openedChange)="actionDialog($event)">
                                    <mat-option value="pagesNumber">Preview 50 Pages Only</mat-option>
                                    <mat-option value="set_column_sq">Set Column Sequence</mat-option>
                                </mat-select>
                                <span class="material-symbols-outlined icon-expand-more">
                                    expand_more
                                </span>
                            </mat-form-field>
                        </div>
                    </div>
    
    
    
                    <!-- <div class="card br-14 table-responsive my-3"
                    *ngIf="columnValues?.length>0 && displayedColumns && dataSource?.data?.length>0"> -->
    
                    <div class="card br-14 table-responsive my-3">
                        <!-- <ng-scrollbar style="height: 200px;"></ng-scrollbar> -->
                        <ng-scrollbar style="height:600px" track="all" class="mat-table-scrollbar">
    
                            <mat-table class="custom-table table-fix action-clickable-table" #table [dataSource]="dataSource" matSort
                                (matSortChange)="sortChange($event)">
    
                                <ng-container [matColumnDef]="col.colDef"
                                    *ngFor="let col of displayedColumns; let indexOfelement=index;">
    
                                    <th class="header" mat-header-cell *cdkHeaderCellDef mat-sort-header
                                        (sortActionDescription)="indexOfelement"
                                        style="width:auto; min-width: 250px!important;  padding: 5px 32px; border-bottom: 1px solid var(--clr-tertiary-50);">
                                        {{ col.colDef }}
    
                                    </th>
    
                                    <td *matCellDef="let element"  style="min-width: 250px; padding: 5px 32px; border: 0; text-overflow: ellipsis; overflow: hidden; max-width: 20ch; white-space: nowrap;">
                                        {{element[col.colHeader] }}</td>
    
                                </ng-container>
                                
                                <tr class="mat-row w-100" *matNoDataRow  [attr.colspan]="displayedColumns && displayedColumns.length">
                                  <div class="p-3">
                                        No data available in table.
                                    </div>
                                </tr>
                                <mat-header-row *matHeaderRowDef="columnValues; sticky: true"></mat-header-row>
                                <mat-row  *matRowDef="let row; columns: columnValues;"></mat-row>
                            </mat-table>
                        </ng-scrollbar>
                    </div>
                    <div class="table-pagination d-flex justify-content-start" *ngIf="columnValues.length>0 && displayedColumns && dataSource">
                        <mat-paginator [length]="this.customPagination.total" [pageSize]="20"
                            [pageSizeOptions]="[10, 20, 100]" (page)="handlePageEvent($event)"></mat-paginator>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
        <div class="col-xl-4">
            <mat-card class="mat-elevation-z g-card mb-4">
                <mat-card-content>
                    <h2 class="card-header-title mb-4 d-flex align-items-center">
                        <div class="mat-icon-wrap me-lg-3 me-2">
                            <span class="mat-icon material-symbols-outlined">
                                backup_table
                            </span>
                        </div>
                        <span>Selected Transaction Info</span>
                    </h2>
                    <div>
                        <mat-form-field class="d-block w-100 mb-3" appearance="outline">
                            <mat-label>Record Created By</mat-label>
                            <input matInput name="maximumQuantity" type="text" value="1234" disabled>
                        </mat-form-field>

                        <mat-form-field class="d-block w-100 mb-3" appearance="outline">
                            <mat-label>Transaction Date/Time</mat-label>
                            <input matInput name="maximumQuantity" type="text" value="2022-11-11T00:14:20.38" disabled>
                        </mat-form-field>

                        <mat-form-field class="d-block w-100 mb-3" appearance="outline">
                            <mat-label>Reason</mat-label>
                            <input matInput value="Location Assignment Error" type="text" disabled>
                        </mat-form-field>

                        <mat-form-field class="d-block w-100 mb-3" appearance="outline">
                            <mat-label>Reason Message</mat-label>
                            <span matSuffix>
                                <mat-icon style="color:#8B8BA3; transform: rotate(45deg);">unfold_more</mat-icon>
                            </span>
                            <input matInput value="Invalid Item ID - NOT in inventory" type="text" disabled>
                        </mat-form-field>
                    </div>
                    <div>
                        <button mat-flat-button color="primary" class="button-primary w-100" (click)="openReprocessTransactionDialogue()">
                            Edit This Transaction
                            <mat-icon style="color:#fff; transform: rotate(45deg);">unfold_more</mat-icon>
                        </button>
                    </div>
                </mat-card-content>
            </mat-card>

            <mat-card class="mat-elevation-z g-card">
                <mat-card-content>
                    <h2 class="card-header-title mb-4 d-flex align-items-center">
                        <div class="mat-icon-wrap me-lg-3 me-2">
                            <span class="mat-icon material-symbols-outlined">
                                filter_frames
                            </span>
                        </div>
                        <span>Selected Orders</span>
                    </h2>
                    <div>
                        <mat-tab-group dynamicHeight>
                            <mat-tab label="Reprocess (2)">
                                <div class="d-flex gap-12 my-2">
                                    <button mat-stroked-button color="primary" class="button-add-all w-100">
                                        Mark All
                                    </button>

                                    <button mat-stroked-button color="warn" class="button-remove-all-w-stroke w-100">
                                        Unmark All
                                    </button>
                                </div>
                                <div class="card br-14 table-responsive px-0 mt-2">
                                    <ng-scrollbar style="height: 100px;">
                                        <table>

                                        </table>
                                    </ng-scrollbar>
                                </div>
                            </mat-tab>
                            <mat-tab label="Complete (20)">
                                <div>

                                </div>
                            </mat-tab>
                            <mat-tab label="History (20)">
                                <div>

                                </div>
                            </mat-tab>
                        </mat-tab-group>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>

</div>